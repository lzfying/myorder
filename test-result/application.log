27 二月 2014 23:36:42,418 INFO  ~ Starting /Users/lzfying/play-1.2.5.3/myorder
27 二月 2014 23:36:42,422 WARN  ~ Declaring modules in application.conf is deprecated. Use dependencies.yml instead (module.crud)
27 二月 2014 23:36:42,423 INFO  ~ Module crud is available (/Users/lzfying/play-1.2.5.3/modules/crud)
27 二月 2014 23:36:42,423 WARN  ~ Declaring modules in application.conf is deprecated. Use dependencies.yml instead (module.secure)
27 二月 2014 23:36:42,424 INFO  ~ Module secure is available (/Users/lzfying/play-1.2.5.3/modules/secure)
27 二月 2014 23:36:43,223 WARN  ~ You're running Play! in DEV mode
27 二月 2014 23:36:43,348 INFO  ~ Listening for HTTP on port 9000 (Waiting a first request to start) ...
27 二月 2014 23:36:57,809 INFO  ~ Connected to jdbc:mysql://127.0.0.1/order?useUnicode=yes&characterEncoding=UTF-8&connectionCollation=utf8_general_ci
27 二月 2014 23:36:59,129 ERROR ~ Unsuccessful: create table back_meal (id bigint not null auto_increment, name varchar(255), orderDayNum integer not null, orderTotalNum integer not null, type varchar(255), type2 varchar(255), type3 varchar(255), url varchar(255), mealDesc_id bigint, primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
27 二月 2014 23:36:59,129 ERROR ~ Table 'back_meal' already exists
27 二月 2014 23:36:59,145 ERROR ~ Unsuccessful: create table back_mealdesc (id bigint not null auto_increment, content varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
27 二月 2014 23:36:59,145 ERROR ~ Table 'back_mealdesc' already exists
27 二月 2014 23:36:59,254 ERROR ~ Unsuccessful: alter table back_meal add index FK4F91C01B84DB487E (mealDesc_id), add constraint FK4F91C01B84DB487E foreign key (mealDesc_id) references back_mealdesc (id)
27 二月 2014 23:36:59,254 ERROR ~ Duplicate key name 'FK4F91C01B84DB487E'
27 二月 2014 23:36:59,441 INFO  ~ Application 'myorder' is now started !
27 二月 2014 23:37:00,253 ERROR ~ 

@6hcpi0f3j
Internal Server Error (500) for request GET /admin/new

Execution exception (In /app/controllers/Admin.java around line 25)
NullPointerException occured : Try to read username on null object models.AdminUser (controllers.Admin.setConnectedUser, line 25)

play.exceptions.JavaExecutionException: Try to read username on null object models.AdminUser (controllers.Admin.setConnectedUser, line 25)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:237)
	at Invocation.HTTP Request(Play!)
Caused by: java.lang.NullPointerException: Try to read username on null object models.AdminUser (controllers.Admin.setConnectedUser, line 25)
	at play.classloading.enhancers.PropertiesEnhancer$FieldAccessor.invokeReadProperty(PropertiesEnhancer.java:213)
	at controllers.Admin.setConnectedUser(Admin.java:25)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:510)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:484)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:479)
	at play.mvc.ActionInvoker.handleBefores(ActionInvoker.java:328)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:142)
	... 1 more
27 二月 2014 23:38:16,396 ERROR ~ 

@6hcpi0f3m
Internal Server Error (500) for request POST /admin/new

Execution exception (In /app/controllers/Admin.java around line 81)
IllegalStateException occured : org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: models.Meal.mealDesc -> models.MealDesc

play.exceptions.JavaExecutionException: org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: models.Meal.mealDesc -> models.MealDesc
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:237)
	at Invocation.HTTP Request(Play!)
Caused by: java.lang.IllegalStateException: org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: models.Meal.mealDesc -> models.MealDesc
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1386)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1317)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1323)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:965)
	at play.db.jpa.JPABase._save(JPABase.java:41)
	at play.db.jpa.GenericModel.save(GenericModel.java:204)
	at controllers.Admin.save(Admin.java:81)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:557)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:508)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:484)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:479)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: models.Meal.mealDesc -> models.MealDesc
	at org.hibernate.engine.CascadingAction$9.noCascade(CascadingAction.java:387)
	at org.hibernate.engine.Cascade.cascade(Cascade.java:172)
	at org.hibernate.event.def.AbstractFlushingEventListener.cascadeOnFlush(AbstractFlushingEventListener.java:175)
	at org.hibernate.event.def.AbstractFlushingEventListener.prepareEntityFlushes(AbstractFlushingEventListener.java:166)
	at org.hibernate.event.def.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:88)
	at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:50)
	at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:962)
	... 9 more
27 二月 2014 23:43:09,167 ERROR ~ 

@6hcpi0f3p
Internal Server Error (500) for request POST /admin/new

Execution exception (In /app/controllers/Admin.java around line 81)
IllegalStateException occured : org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: models.Meal.mealDesc -> models.MealDesc

play.exceptions.JavaExecutionException: org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: models.Meal.mealDesc -> models.MealDesc
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:237)
	at Invocation.HTTP Request(Play!)
Caused by: java.lang.IllegalStateException: org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: models.Meal.mealDesc -> models.MealDesc
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1386)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1317)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1323)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:965)
	at play.db.jpa.JPABase._save(JPABase.java:41)
	at play.db.jpa.GenericModel.save(GenericModel.java:204)
	at controllers.Admin.save(Admin.java:81)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:557)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:508)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:484)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:479)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: models.Meal.mealDesc -> models.MealDesc
	at org.hibernate.engine.CascadingAction$9.noCascade(CascadingAction.java:387)
	at org.hibernate.engine.Cascade.cascade(Cascade.java:172)
	at org.hibernate.event.def.AbstractFlushingEventListener.cascadeOnFlush(AbstractFlushingEventListener.java:175)
	at org.hibernate.event.def.AbstractFlushingEventListener.prepareEntityFlushes(AbstractFlushingEventListener.java:166)
	at org.hibernate.event.def.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:88)
	at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:50)
	at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:962)
	... 9 more
27 二月 2014 23:43:25,297 ERROR ~ Unsuccessful: create table back_meal (id bigint not null auto_increment, name varchar(255), orderDayNum integer not null, orderTotalNum integer not null, type varchar(255), type2 varchar(255), type3 varchar(255), url varchar(255), mealDesc_id bigint, primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
27 二月 2014 23:43:25,298 ERROR ~ Table 'back_meal' already exists
27 二月 2014 23:43:25,330 ERROR ~ Unsuccessful: create table back_mealdesc (id bigint not null auto_increment, content varchar(255), primary key (id)) ENGINE=InnoDB DEFAULT CHARSET=utf8
27 二月 2014 23:43:25,330 ERROR ~ Table 'back_mealdesc' already exists
27 二月 2014 23:43:25,450 ERROR ~ Unsuccessful: alter table back_meal add index FK4F91C01B84DB487E (mealDesc_id), add constraint FK4F91C01B84DB487E foreign key (mealDesc_id) references back_mealdesc (id)
27 二月 2014 23:43:25,450 ERROR ~ Duplicate key name 'FK4F91C01B84DB487E'
27 二月 2014 23:43:25,765 ERROR ~ 

@6hcpi0f40
Internal Server Error (500) for request GET /admin/new

Execution exception (In /app/controllers/Admin.java around line 25)
NullPointerException occured : Try to read username on null object models.AdminUser (controllers.Admin.setConnectedUser, line 25)

play.exceptions.JavaExecutionException: Try to read username on null object models.AdminUser (controllers.Admin.setConnectedUser, line 25)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:237)
	at Invocation.HTTP Request(Play!)
Caused by: java.lang.NullPointerException: Try to read username on null object models.AdminUser (controllers.Admin.setConnectedUser, line 25)
	at play.classloading.enhancers.PropertiesEnhancer$FieldAccessor.invokeReadProperty(PropertiesEnhancer.java:213)
	at controllers.Admin.setConnectedUser(Admin.java:25)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:510)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:484)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:479)
	at play.mvc.ActionInvoker.handleBefores(ActionInvoker.java:328)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:142)
	... 1 more
27 二月 2014 23:44:46,223 ERROR ~ 

@6hcpi0f46
Internal Server Error (500) for request GET /admin/myPosts/9

Template execution error (In /app/views/Admin/form.html around line 63)
Execution error occured in template /app/views/Admin/form.html. Exception raised was MissingPropertyException : No such property: content for class: models.Meal Possible solutions: comments.

play.exceptions.TemplateExecutionException: No such property: content for class: models.Meal
Possible solutions: comments
	at play.templates.BaseTemplate.throwException(BaseTemplate.java:86)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:272)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:202)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:661)
	at play.mvc.Controller.renderTemplate(Controller.java:641)
	at play.mvc.Controller.render(Controller.java:696)
	at controllers.Admin.form(Admin.java:37)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:557)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:508)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:484)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:479)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: groovy.lang.MissingPropertyException: No such property: content for class: models.Meal
Possible solutions: comments
	at /app/views/Admin/form.html.(line:63)
	at play.templates.FastTags._field(FastTags.java:171)
	at play.templates.FastTags$_field.call(Unknown Source)
	at /app/views/Admin/form.html.(line:60)
	at play.templates.JavaExtensions.toString(JavaExtensions.java:76)
	at play.templates.FastTags._form(FastTags.java:124)
	at play.templates.FastTags$_form.call(Unknown Source)
	at /app/views/Admin/form.html.(line:10)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:247)
	... 13 more
27 二月 2014 23:45:06,209 ERROR ~ 

@6hcpi0f4b
Internal Server Error (500) for request GET /admin/myPosts/9

Template execution error (In /app/views/Admin/form.html around line 63)
Execution error occured in template /app/views/Admin/form.html. Exception raised was MissingPropertyException : No such property: content for class: models.Meal Possible solutions: comments.

play.exceptions.TemplateExecutionException: No such property: content for class: models.Meal
Possible solutions: comments
	at play.templates.BaseTemplate.throwException(BaseTemplate.java:86)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:272)
	at play.templates.Template.render(Template.java:26)
	at play.templates.GroovyTemplate.render(GroovyTemplate.java:202)
	at play.mvc.results.RenderTemplate.<init>(RenderTemplate.java:24)
	at play.mvc.Controller.renderTemplate(Controller.java:661)
	at play.mvc.Controller.renderTemplate(Controller.java:641)
	at play.mvc.Controller.render(Controller.java:696)
	at controllers.Admin.form(Admin.java:37)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:557)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:508)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:484)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:479)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	at Invocation.HTTP Request(Play!)
Caused by: groovy.lang.MissingPropertyException: No such property: content for class: models.Meal
Possible solutions: comments
	at /app/views/Admin/form.html.(line:63)
	at play.templates.FastTags._field(FastTags.java:171)
	at play.templates.FastTags$_field.call(Unknown Source)
	at /app/views/Admin/form.html.(line:60)
	at play.templates.JavaExtensions.toString(JavaExtensions.java:76)
	at play.templates.FastTags._form(FastTags.java:124)
	at play.templates.FastTags$_form.call(Unknown Source)
	at /app/views/Admin/form.html.(line:10)
	at play.templates.GroovyTemplate.internalRender(GroovyTemplate.java:247)
	... 13 more
27 二月 2014 23:46:14,697 WARN  ~ SQL Error: 1451, SQLState: 23000
27 二月 2014 23:46:14,697 ERROR ~ Cannot delete or update a parent row: a foreign key constraint fails (`order`.`back_meal`, CONSTRAINT `FK4F91C01BC070DC82` FOREIGN KEY (`mealDesc_id`) REFERENCES `back_mealdesc` (`id`))
27 二月 2014 23:46:14,727 ERROR ~ 

@6hcpi0f4e
Internal Server Error (500) for request POST /admin/myPosts/9

Execution exception (In /app/controllers/Admin.java around line 69)
PersistenceException occured : org.hibernate.exception.ConstraintViolationException: Could not execute JDBC batch update

play.exceptions.JavaExecutionException: org.hibernate.exception.ConstraintViolationException: Could not execute JDBC batch update
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:237)
	at Invocation.HTTP Request(Play!)
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: Could not execute JDBC batch update
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1389)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1317)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1323)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:965)
	at play.db.jpa.JPABase._delete(JPABase.java:67)
	at play.db.jpa.GenericModel.delete(GenericModel.java:239)
	at controllers.Admin.save(Admin.java:69)
	at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:557)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:508)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:484)
	at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:479)
	at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
	... 1 more
Caused by: org.hibernate.exception.ConstraintViolationException: Could not execute JDBC batch update
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:96)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
	at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:275)
	at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:268)
	at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:189)
	at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:345)
	at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:51)
	at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)
	at org.hibernate.ejb.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:962)
	... 9 more
Caused by: java.sql.BatchUpdateException: Cannot delete or update a parent row: a foreign key constraint fails (`order`.`back_meal`, CONSTRAINT `FK4F91C01BC070DC82` FOREIGN KEY (`mealDesc_id`) REFERENCES `back_mealdesc` (`id`))
	at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:2045)
	at com.mysql.jdbc.PreparedStatement.executeBatch(PreparedStatement.java:1468)
	at org.hibernate.jdbc.BatchingBatcher.doExecuteBatch(BatchingBatcher.java:70)
	at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:268)
	... 15 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`order`.`back_meal`, CONSTRAINT `FK4F91C01BC070DC82` FOREIGN KEY (`mealDesc_id`) REFERENCES `back_mealdesc` (`id`))
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)
	at com.mysql.jdbc.Util.getInstance(Util.java:386)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1039)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4096)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4028)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2490)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2651)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2683)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2144)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2444)
	at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:1997)
	... 18 more
